<!doctype html>
<!--
 This page is shown when the extension button is clicked, because the
 "browser_action" field in manifest.json contains the "default_popup" key with
 value "popup.html".
 -->
<html>
  <head>
    <link rel="stylesheet" href="../iconfont/material-icons.css">
    <link rel="stylesheet" href="../lib/material.blue-cyan.min.css">
    <style type="text/css">
      hr {
        margin: 0;
      }

      #container {
        width: 400px;
      }

      tr:hover {
        background-color: white !important;
      }

      .mdl-textfield.is-disabled .mdl-textfield__input {
        background-color: transparent;
        border-bottom: 1px solid rgba(0,0,0,.12);
        color: black;
      }

      a:hover {
        text-decoration: underline;
      }

      a {
        font-weight: bold;
        color: #008ace;
        cursor: pointer;
      }

      .overlay {
        width: 400px;
        height: 400px;
        position:fixed;
        top:88px;
        bottom:0;
        left:0;
        right:0;
        background-color:#fff;
        opacity:0.8;
        z-index:1001;
      }

      .loader {
        width: 30px;
        height: 30px;
        position: absolute;
        top:0;
        bottom: 0;
        left: 0;
        right: 0;
        margin: auto;
        z-index:999;
      }
    </style>

    <!--
      - JavaScript and HTML must be in separate files: see our Content Security
      - Policy documentation[1] for details and explanation.
      -
      - [1]: https://developer.chrome.com/extensions/contentSecurityPolicy
    -->
    <script src="../lib/jquery-3.2.1.min.js"></script>
    <script src="../lib/material.min.js"></script>
    <script src="../lib/ccxt.browser.js"></script>
    <script src="../lib/highstock.js"></script>
    <script src="logos.js"></script>
    <script src="priority.js"></script>
    <script src="details.js"></script>
    <script src="popup.js"></script>
    <title>CryptoLive</title>
  </head>

  <body>
    <div id="container">
      <div class="mdl-grid" style="background-color: #008ace; height: 72px; justify-content: center;">
        <img src="../img/DesignEvo-Transparent.png" style="height: 50px; margin-top: 10px; margin-bottom: 10px">
      </div>
      <div id="home">
        <div id="topBar" style="height: 35px; padding: 8px; z-index: 1; width: 384px; background-color: white">
          <div style="font-size: 16px; padding: 4px; float: left">Exchange</div>
          <div style="float: right;">
            <div class="mdl-textfield mdl-js-textfield" style="padding: 0;width: fit-content;">
              <select class="mdl-textfield__input" id="exchanges" style="width: 160px; float: right">
              </select>
            </div>
            <div style="display: inline-block; width: 25px">
              <img id="refreshIcon" style="cursor: pointer;display:none;height: 25px; width: 25px;float: right" src="../img/refresh.png">
              <div id="refreshSpinner" class="mdl-spinner mdl-js-spinner is-active" style="height: 20px; width: 20px; margin-left: 4px;"></div>
            </div>
          </div>
        </div>
        <table class="mdl-data-table mdl-js-data-table" style="border: 0; width: 400px">
          <thead>
          <tr>
            <th class="mdl-data-table__cell--non-numeric" style="padding: 12px">Coin Pair</th>
            <th style="padding: 12px">Price</th>
          </tr>
          </thead>
          <tbody id="tableBody">
          </tbody>
        </table>
        <div id="loadMore" style="cursor: pointer; display: none; text-align: center; color: #008ace">
          load more...
        </div>
      </div>
      <div id="details" style="display: none">
        <div id="detailsNavBar" >
          <img id="backToMain" src="../img/back.png" style="position: absolute; height: 30px;width: 30px;z-index: 20;cursor: pointer">
          <img id="refreshDetails" src="../img/refresh.png" style="position: absolute; height: 30px;width: 30px;z-index: 20;right: 0; cursor: pointer">
        </div>
        <div  style="width: 400px">
          <div class="overlay">
            <div id="loadingSpinner" class="loader mdl-spinner mdl-js-spinner is-active"></div>
            <div id="notSupported" style="display: none;margin-top: 200px;text-align: center;">
              <div>This exchange does not support OHLC data.</div>
            </div>
          </div>
          <div id="content" style="display: none; padding-top: 30px">
            <div id="chart" style="height: 400px; width: 400px;"></div>
            <div>
              <table class="mdl-data-table mdl-js-data-table" style="border: 0; width: 400px">
                <thead>
                <tr>
                  <th class="mdl-data-table__cell--non-numeric" style="padding: 12px">Past 1 minute market data</th>
                </tr>
                <tbody>
                <tr>
                  <td class="'mdl-data-table__cell--non-numeric'" style=";padding: 12px">
                    <span style="float: left;font-weight: bold;color: #008ace;">Open</span>
                  </td>
                  <td  style="padding: 12px">
                    <span id="openValue">0</span>
                  </td>
                </tr>
                <tr>
                  <td class="'mdl-data-table__cell--non-numeric'" style="padding: 12px">
                    <span style="float: left;font-weight: bold;color: #008ace;">High</span>
                  </td>
                  <td style="padding: 12px">
                    <span id="highValue">0</span>
                  </td>
                </tr>
                <tr>
                  <td class="'mdl-data-table__cell--non-numeric'" style="padding: 12px">
                    <span style="float: left;font-weight: bold;color: #008ace;">Low</span>
                  </td>
                  <td style="padding: 12px">
                    <span id="lowValue">0</span>
                  </td>
                </tr>
                <tr>
                  <td class="'mdl-data-table__cell--non-numeric'" style="border-bottom: none;padding: 12px">
                    <span style="float: left;font-weight: bold;color: #008ace;">Close</span>
                  </td>
                  <td style="border-bottom: none;padding: 12px">
                    <span id="closeValue">0</span>
                  </td>
                </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

    </div>
  </body>
</html>
